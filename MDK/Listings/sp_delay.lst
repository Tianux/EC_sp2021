


ARM Macro Assembler    Page 1 


    1 00000000         ;*
    2 00000000         ;*******************************************************
                       ***********************
    3 00000000         ;* @file       sp_delay_gcc.c
    4 00000000         ;* @author     YTom
    5 00000000         ;* @version    v0.0
    6 00000000         ;* @date       2018.Dec.12
    7 00000000         ;* @brief      Assembly delay module GNU version.
    8 00000000         ;*******************************************************
                       ***********************
    9 00000000         ;* @license
   10 00000000         ;*
   11 00000000         ;*******************************************************
                       ***********************
   12 00000000         ;*/
   13 00000000         
   14 00000000                 PRESERVE8                    ; Preserve 8 byte s
                                                            tack alignment
   15 00000000                 THUMB                        ; indicate THUMB co
                                                            de is used
   16 00000000                 AREA             sp_delay, CODE, READONLY
   17 00000000         
   18 00000000         
   19 00000000         ;brief  delay 1us for 168MHz
   20 00000000                 EXPORT           delay_us
   21 00000000         delay_us
   22 00000000         ; Input : R0
   23 00000000 F04F 0137       MOV              R1, #0x37   ; R1 = 55
   24 00000004 FB00 F001       MUL              R0, R0, R1  ; R0 = R0*R1
   25 00000008         delay_us_loop
   26 00000008 1E40            SUBS             R0, R0, #0x01 ; R0--
   27 0000000A 2800            CMP              R0, #0x00   ; if(R0==0)
   28 0000000C D1FC            BNE              delay_us_loop ; goto delay_us_l
                                                            oop;
   29 0000000E BF00            NOP
   30 00000010 4770            BX               LR          ; return
   31 00000012         
   32 00000012         
   33 00000012         ;brief  delay 1ms for 168MHz
   34 00000012                 EXPORT           delay_ms
   35 00000012         delay_ms
   36 00000012         ; Input : R0
   37 00000012 F64D 21BF       MOV              R1, #0xdabf ; R1 = 55998
   38 00000016 FB00 F001       MUL              R0, R0, R1  ; R0 = R0*R1
   39 0000001A         delay_ms_loop
   40 0000001A 1E40            SUBS             R0, R0, #0x01 ; R0--
   41 0000001C 2800            CMP              R0, #0x00   ; if(R0==0)
   42 0000001E D1FC            BNE              delay_ms_loop ; goto delay_us_l
                                                            oop;
   43 00000020 BF00            NOP
   44 00000022 4770            BX               LR          ; return
   45 00000024         
   46 00000024         
   47 00000024                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --depend=.
\objects\sp_delay.d -o.\objects\sp_delay.o -I.\RTE\_SP_SENTRY -ID:\Keil_v5\ARM\
PACK\Keil\STM32F4xx_DFP\2.13.0\Drivers\CMSIS\Device\ST\STM32F4xx\Include -ID:\K
eil_v5\ARM\CMSIS\Include --predefine="__UVISION_VERSION SETA 528" --predefine="
STM32F427xx SETA 1" --list=.\listings\sp_delay.lst ..\SPLib\ASM\sp_delay.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

delay_ms 00000012

Symbol: delay_ms
   Definitions
      At line 35 in file ..\SPLib\ASM\sp_delay.s
   Uses
      At line 34 in file ..\SPLib\ASM\sp_delay.s
Comment: delay_ms used once
delay_ms_loop 0000001A

Symbol: delay_ms_loop
   Definitions
      At line 39 in file ..\SPLib\ASM\sp_delay.s
   Uses
      At line 42 in file ..\SPLib\ASM\sp_delay.s
Comment: delay_ms_loop used once
delay_us 00000000

Symbol: delay_us
   Definitions
      At line 21 in file ..\SPLib\ASM\sp_delay.s
   Uses
      At line 20 in file ..\SPLib\ASM\sp_delay.s
Comment: delay_us used once
delay_us_loop 00000008

Symbol: delay_us_loop
   Definitions
      At line 25 in file ..\SPLib\ASM\sp_delay.s
   Uses
      At line 28 in file ..\SPLib\ASM\sp_delay.s
Comment: delay_us_loop used once
sp_delay 00000000

Symbol: sp_delay
   Definitions
      At line 16 in file ..\SPLib\ASM\sp_delay.s
   Uses
      None
Comment: sp_delay unused
5 symbols
338 symbols in table
